<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>The world of actors – belgian</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">The world of actors</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">The world of actors</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">The world of actors</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Data story</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./full_network.html" class="sidebar-item-text sidebar-link">Full actor network characteristics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./belgian.html" class="sidebar-item-text sidebar-link active">The belgian actor subnetwork</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./growth.html" class="sidebar-item-text sidebar-link">Analysis of network growth</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./homophily.html" class="sidebar-item-text sidebar-link">Homophily and attributes analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./centrality_and_success.html" class="sidebar-item-text sidebar-link">Centrality in actor graph and popularity. Are they linked?</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./viz.html" class="sidebar-item-text sidebar-link">Shorthest path visualization</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./about.html" class="sidebar-item-text sidebar-link">About</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-belgian-actor-subnetwork" id="toc-the-belgian-actor-subnetwork" class="nav-link active" data-scroll-target="#the-belgian-actor-subnetwork">The belgian actor subnetwork</a>
  <ul class="collapse">
  <li><a href="#creating-a-graph-of-belgian-actors" id="toc-creating-a-graph-of-belgian-actors" class="nav-link" data-scroll-target="#creating-a-graph-of-belgian-actors">Creating a graph of belgian actors</a></li>
  <li><a href="#a-first-visualization" id="toc-a-first-visualization" class="nav-link" data-scroll-target="#a-first-visualization">A first visualization</a></li>
  <li><a href="#indicators-of-centrality" id="toc-indicators-of-centrality" class="nav-link" data-scroll-target="#indicators-of-centrality">Indicators of centrality</a></li>
  <li><a href="#clustering" id="toc-clustering" class="nav-link" data-scroll-target="#clustering">Clustering</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">



<section id="the-belgian-actor-subnetwork" class="level1 page-columns page-full">
<h1>The belgian actor subnetwork</h1>
<section id="creating-a-graph-of-belgian-actors" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-graph-of-belgian-actors">Creating a graph of belgian actors</h2>
<p>The belgian subnetwork is formed by slicing the original graph, keeping only nodes corresponding to belgian actors, and the edges between them.</p>
<p>We end up with the following graph :</p>
<div class="cell" data-execution_count="9">
<div class="cell-output cell-output-stdout">
<pre><code>Graph with 191 nodes and 558 edges</code></pre>
</div>
</div>
<p>However, looking into the graph, we see that it is composed of a large central cluster and a few smaller graphs of at most 5 nodes. These are the result of slicing the original graph, where belgian actors that incidentally played together in an international movie still appear, despite being isolated.</p>
<p>We list out the connected components, and keep only the largest one.</p>
<div class="cell" data-execution_count="11">
<div class="cell-output cell-output-stdout">
<pre><code>Graph with 156 nodes and 526 edges
Graph with 3 nodes and 2 edges
Graph with 2 nodes and 1 edges
Graph with 3 nodes and 3 edges
Graph with 5 nodes and 10 edges
Graph with 3 nodes and 3 edges
Graph with 3 nodes and 2 edges
Graph with 3 nodes and 2 edges
Graph with 3 nodes and 3 edges
Graph with 2 nodes and 1 edges
Graph with 3 nodes and 2 edges
Graph with 2 nodes and 1 edges
Graph with 3 nodes and 2 edges</code></pre>
</div>
</div>
<p>Before we jump into the graph analysis and visualization, we make a small detour to examine the data. In particular, we would like to detect some cliques by naively looking at the number of movies actors have in common. This is done in <a href="#fig-shared">Figure&nbsp;1</a>, which shows that most actors in the belgian graph feature together in only one movie.</p>
<div class="cell" data-execution_count="22">
<div class="cell-output cell-output-display">
<div id="fig-shared" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="belgian_files/figure-html/fig-shared-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Number of shared movies between belgian actors</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>We list out the actors that feature together in more than 3 movies :</p>
<div class="cell" data-execution_count="34">
<div class="cell-output cell-output-display" data-execution_count="34">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>actor1_name</th>
      <th>actor2_name</th>
      <th>movie_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>73</th>
      <td>Patrick Descamps</td>
      <td>Lucas Belvaux</td>
      <td>3</td>
    </tr>
    <tr>
      <th>347</th>
      <td>Bouli Lanners</td>
      <td>Benoît Poelvoorde</td>
      <td>3</td>
    </tr>
    <tr>
      <th>422</th>
      <td>Olivier Gourmet</td>
      <td>Jérémie Renier</td>
      <td>4</td>
    </tr>
    <tr>
      <th>508</th>
      <td>Serge Larivière</td>
      <td>Yolande Moreau</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>From this data, it is not immediately clear whether there is a clique formed by or containing these actors. Time to visualize the graph !</p>
</section>
<section id="a-first-visualization" class="level2">
<h2 class="anchored" data-anchor-id="a-first-visualization">A first visualization</h2>
<p>We visualize the actor graph in <a href="#fig-graph-first">Figure&nbsp;2</a>, coloring edges based on the 72 different movies, and making edges proportionally larger to the number of movies two actors have in common.</p>
<div class="cell" data-execution_count="28">
<div class="cell-output cell-output-display">
<div id="fig-graph-first" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="belgian_files/figure-html/fig-graph-first-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: First visualization of the belgian actor graph</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>From this visualization we can see the emergence of small communities corresponding to one movie played in common. In the lower left, we can see Barbara Sarafian bridging the gap between two small communities.</p>
<p>Some individuals, such as Jan Decleir or Jérémie Renier stand out by the sheer number of edges connected to them.</p>
<p>Just left of Jérémie Renier, we can also visually inspect and confirm the small clique composed by Yolande Moreau, Serge Larivière, Benoît Poelvoorde, and Bouli Lanners.</p>
<p>Jean-Claude Van Damme, a well-known actor, appears marginal here. This again is an effect of slicing the original graph, where Jean-Claude Van Damme was well-connected, but appeared in more international movies, with non-belgian actors.</p>
</section>
<section id="indicators-of-centrality" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="indicators-of-centrality">Indicators of centrality</h2>
<p>Instead of relying on visualization to evaluate centrality, we can also compute diffent metrics, such as degree, eigenvector and betweenness centrality.</p>
<p>For each centrality metric, we print out the top-5 actors.</p>
<div class="cell" data-execution_count="43">
<div class="cell-output cell-output-display" data-execution_count="43">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>degree_centrality</th>
      <th>actor_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>106</th>
      <td>0.264516</td>
      <td>Jan Decleir</td>
    </tr>
    <tr>
      <th>107</th>
      <td>0.129032</td>
      <td>Jérémie Renier</td>
    </tr>
    <tr>
      <th>45</th>
      <td>0.122581</td>
      <td>François Beukelaers</td>
    </tr>
    <tr>
      <th>149</th>
      <td>0.116129</td>
      <td>Filip Peeters</td>
    </tr>
    <tr>
      <th>100</th>
      <td>0.116129</td>
      <td>Matthias Schoenaerts</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="41">
<div class="cell-output cell-output-display" data-execution_count="41">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>eigenvector_centrality</th>
      <th>actor_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>106</th>
      <td>0.408367</td>
      <td>Jan Decleir</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.209502</td>
      <td>Werner De Smedt</td>
    </tr>
    <tr>
      <th>56</th>
      <td>0.205922</td>
      <td>Bert Haelvoet</td>
    </tr>
    <tr>
      <th>149</th>
      <td>0.204257</td>
      <td>Filip Peeters</td>
    </tr>
    <tr>
      <th>58</th>
      <td>0.193717</td>
      <td>Gert Portael</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="52">
<div class="cell-output cell-output-display" data-execution_count="52">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>betweenness_centrality</th>
      <th>actor_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>106</th>
      <td>0.395843</td>
      <td>Jan Decleir</td>
    </tr>
    <tr>
      <th>100</th>
      <td>0.254062</td>
      <td>Matthias Schoenaerts</td>
    </tr>
    <tr>
      <th>45</th>
      <td>0.116199</td>
      <td>François Beukelaers</td>
    </tr>
    <tr>
      <th>107</th>
      <td>0.110377</td>
      <td>Jérémie Renier</td>
    </tr>
    <tr>
      <th>69</th>
      <td>0.108920</td>
      <td>Bouli Lanners</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Jan Decleir comes out on top each time. Matthias Schoenaerts, François Beukelaers as well as Filip Peeters appear two times. The different methods result in quite different results. We try to explain this by plotting the distribution of the centrality measures in <a href="#fig-centrality-dist">Figure&nbsp;3</a>, as well a visualizing in <a href="#fig-centrality-vis">Figure&nbsp;4</a>.</p>
<div class="cell" data-execution_count="55">
<div class="cell-output cell-output-display">
<div id="fig-centrality-dist" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="belgian_files/figure-html/fig-centrality-dist-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;3: Distribution of different centrality measures</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell page-columns page-full" data-execution_count="59">
<div class="cell-output cell-output-display column-screen-inset">
<div id="fig-centrality-vis" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="belgian_files/figure-html/fig-centrality-vis-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;4: Visual comparison of different centrality measures</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>This yields the following observations.</p>
<p><strong>Degree centrality</strong></p>
<p>Degree centrality only yields local information, since it is just proportional to the local node degree. Therefore, it might not be as insightful as compared to measures which take into account the entire graph</p>
<p>Visually, we see that Jan Decleir appears as a the only very large node. This points to the problem that degree centrality only looks “one hop away”, where we would intuitively think that neighbours of Jan Decleir would have larger centrality, just because they are directly connected to a hub.</p>
<p><strong>Eigenvector centrality</strong></p>
<p>Mathematically, this adresses the issue of “one-hop” degree centrality, as this centrality is derived from a self-consistent equation taking into account the whole graph. Nodes connected to the high eigenvector centrality nodes are more likely to have a high eigenvector centrality. Eigenvector centrality produces a powerlaw-like distribution : only a few actors are “central”, with many actors having a small centrality.</p>
<p><strong>Betweenness centrality</strong></p>
<p>Many nodes have zero betweenness centrality : these correspond to actors on the “edge of the graph”, and therefore do not contribute to the general connectedness of the graph. And indeed, this is confirmed visually, as nodes far away from the core appear very small (and should not appear at all, if it weren’t for the minimal node size set for the visualization). Barbara Sarafian, despite living on the edge of the graph, has a nonzero betweenness centrality, as this actor connects two small communities.</p>
</section>
<section id="clustering" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="clustering">Clustering</h2>
<p>Another important aspect of social networks is the formation of clusters. Again, there exist algorithms to try to find these clusters. We study two such algorithms, the Clauset-Newman-Moore and Louvain algorithms. Their comparison is interesting, in that their approach are opposite.</p>
<p>The Louvain algorithm tries to join clusters together to increase modularity, which measures how internally well-connected the cluster is compared to the outside.</p>
<p>The Clauset-Newman-Moore algorithm splits the graph, removing edges with high betweenness. The reasoning behind this is that communities are separated by a few edges, through which the majority of the “traffic” between the two communities flow.</p>
<div class="cell page-columns page-full" data-execution_count="69">
<div class="cell-output cell-output-display column-screen-inset">
<div id="fig-community-vis" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="belgian_files/figure-html/fig-community-vis-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;5: Comparison of the two clustering algorithms. Nodes are colored according to community, and size according to eigenvalue centrality. The minimum vertex size is set to be large, such that colours are easily visible.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><a href="#fig-community-vis">Figure&nbsp;5</a> visualizes the different clusterings. Communities often group actors which seem to have similar eigenvalue centrality, and have played in the same movies. For instance, the green community is well connected by majoritarily two movies, colored cyan and purple.</p>
<p>In the Louvain clustering, three communities (blue, gray, brown in the right of the graph) stand out as corresponding to the “popular” belgian actors, all having large eigenvalue centrality. The five other communities (green, red, pink, orange, purple) are that of smaller actors. These might correspond to more “niche” communities. We note that the niche communities rely on highly connected actors to connect to the rest of the graph. Notably in this case, Matthieu Schoenaerts and Johan Heldenbergh provide a bridge to and from the pink community.</p>
<p>For this particular graph, the Louvain clustering seems more reasonable. The blue community from the Clauset-Newman-Moore clustering seems to be way too large, especially when a very small gray community in the upper-left is composed of only 5 nodes. Louvain clustering on the other hand, seems to produce more evenly distributed communities.</p>
<p>One explanation for this could be that the Louvain algorithm works on node degree, instead of the edges. In this case, the node degree should be taken into account, as we would expect to group “popular” and “niche” actors in separate communities. The Clauset-Newman-Moore places importance on edge via the betweenness measure, however we argue that the edges generated by each movie should be equally important, rendering this algorithm less effective for our problem.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>